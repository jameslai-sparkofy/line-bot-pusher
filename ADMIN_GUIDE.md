# 🎉 Web 管理後台使用指南

你的 LINE Bot 現在有了一個漂亮的 Web 管理介面！

## 🌐 存取管理後台

**管理後台網址：**
```
https://522630496c19.ngrok-free.app/admin/
```

或本機存取：
```
http://localhost:3000/admin/
```

---

## 🎯 功能介紹

### 📊 系統狀態儀表板
- **活躍群組數量** - 顯示目前機器人加入的群組數
- **可用模版數量** - 顯示可用的訊息模版數

### 📋 群組管理
- **查看所有活躍群組**
- **群組資訊**：群組代碼、名稱、加入時間
- **重新整理功能**

### 📤 快速推送測試
- **選擇目標群組** - 下拉選單選擇
- **自訂訊息內容** - 可編輯的文字區域
- **一鍵推送** - 立即發送到指定群組

### 🎨 模版推送測試
- **選擇訊息模版** - 工地進度、系統警報、訂單通知
- **動態變數輸入** - 根據模版自動顯示變數欄位
- **即時預覽** - 變數替換和推送

---

## 🚀 使用步驟

### 第一步：將機器人加入群組
1. 在 LINE 中掃描機器人 QR Code
2. 將機器人邀請到測試群組
3. 機器人會發送歡迎訊息並記錄群組資訊

### 第二步：存取管理後台
1. 開啟瀏覽器
2. 前往 https://522630496c19.ngrok-free.app/admin/
3. 等待頁面載入完成

### 第三步：測試推送功能

#### A. 快速文字推送
1. 等待群組列表載入完成
2. 在「快速推送測試」區域選擇目標群組
3. 編輯訊息內容
4. 點擊「📤 發送訊息」
5. 查看群組是否收到訊息

#### B. 模版推送測試
1. 在「模版推送測試」區域選擇模版
2. 選擇目標群組
3. 填寫模版變數（會自動顯示輸入欄位）
4. 點擊「🚀 使用模版推送」
5. 查看推送結果

---

## 🛠️ 模版使用範例

### 工地進度通知
```
工程專案名稱：台北101大樓整修工程
完成進度百分比：85
目前施工階段：裝修工程
```

### 系統警報通知  
```
警報等級：HIGH
系統名稱：Web服務器
警報訊息：CPU使用率超過90%
```

### 訂單狀態通知
```
訂單編號：ORD-2024-001
客戶姓名：王小明
訂單狀態：已出貨
```

---

## 📱 管理後台功能截圖

### 主介面
- 漂亮的漸層背景設計
- 響應式布局，支援手機和電腦
- 即時狀態顯示

### 推送功能
- 簡潔的表單設計
- 即時成功/失敗提示
- 載入動畫效果

---

## 🔧 技術特色

### 前端技術
- **純 HTML + CSS + JavaScript** - 不需要額外框架
- **響應式設計** - 支援各種裝置
- **現代 UI** - 漸層背景、圓角、陰影效果
- **即時 API 通訊** - Fetch API 與後端互動

### 安全性
- **API Key 認證** - 自動處理 API 金鑰
- **錯誤處理** - 完整的錯誤提示機制
- **輸入驗證** - 前端和後端雙重驗證

---

## 🎉 完整整合範例

現在你可以：

### 1. 使用管理後台測試
- 即時推送測試訊息
- 測試各種模版功能
- 管理群組狀態

### 2. 開發者使用 API
```javascript
// 其他系統推送訊息
const response = await fetch('/api/send', {
  method: 'POST',
  headers: {
    'X-API-Key': 'bot_7a40148f443b4e31be9d5769a5058283',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    message: '來自 ERP 系統的通知',
    target_groups: ['GROUP_12345678']
  })
});
```

### 3. 模版化推送
```javascript
// 使用模版推送工地進度
await fetch('/api/send/template', {
  method: 'POST',
  headers: {
    'X-API-Key': 'bot_7a40148f443b4e31be9d5769a5058283',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    template_id: 'construction_progress',
    variables: {
      project_name: '新建案施工',
      progress_percentage: 90,
      current_phase: '收尾工程'
    },
    target_groups: ['GROUP_12345678']
  })
});
```

---

## 🚀 你的系統現在完全可用了！

- ✅ LINE Bot 自動群組管理
- ✅ RESTful API 推送系統
- ✅ 訊息模版引擎
- ✅ Web 管理後台
- ✅ 完整的開發文件

**趕快試試看吧！** 🎯